{"ast":null,"code":"import { fork, call, put, takeLatest } from 'redux-saga/effects';\nimport { errors, success, LOGIN, login } from '../actions/actionType'; // import { loginRequest } from '../api'\n\nimport axios from 'axios';\n\nfunction* loginRequestFlow(user) {\n  yield put(login);\n\n  try {\n    yield call(() => axios.post('https://reqres.in/api/login/', user));\n    yield put(success(user));\n  } catch (error) {\n    yield put(errors(error));\n  }\n}\n\nexport function* loginRequestFinal() {\n  yield takeLatest(LOGIN, loginRequestFlow);\n}\nexport function* rootSaga() {\n  yield fork(loginRequestFinal);\n} // export function* loginRequestFlow(user) {\n//     const apiCall = (user) => {\n//         return axios.post('https://reqres.in/api/login/', user)\n//             .then(response => response.data)\n//             .catch(err => {\n//                 throw err;\n//             });\n//     }\n//     try {\n//         yield call(apiCall)\n//         yield call(success(user))\n//     } catch {\n//         yield call(errors(user))\n//     }\n// }","map":{"version":3,"sources":["/Users/ling/Documents/GitHub/redux-middleware-login/src/saga/rootSaga.js"],"names":["fork","call","put","takeLatest","errors","success","LOGIN","login","axios","loginRequestFlow","user","post","error","loginRequestFinal","rootSaga"],"mappings":"AAAA,SAASA,IAAT,EAAeC,IAAf,EAAqBC,GAArB,EAA0BC,UAA1B,QAA4C,oBAA5C;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,KAA1B,EAAiCC,KAAjC,QAA8C,uBAA9C,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,UAAUC,gBAAV,CAA2BC,IAA3B,EAAiC;AAC7B,QAAMR,GAAG,CAACK,KAAD,CAAT;;AACA,MAAI;AACA,UAAMN,IAAI,CAAC,MAAMO,KAAK,CAACG,IAAN,CAAW,8BAAX,EAA2CD,IAA3C,CAAP,CAAV;AACA,UAAMR,GAAG,CAACG,OAAO,CAACK,IAAD,CAAR,CAAT;AACH,GAHD,CAGE,OAAOE,KAAP,EAAc;AACZ,UAAMV,GAAG,CAACE,MAAM,CAACQ,KAAD,CAAP,CAAT;AACH;AACJ;;AACD,OAAO,UAAUC,iBAAV,GAA8B;AACjC,QAAMV,UAAU,CAACG,KAAD,EAAQG,gBAAR,CAAhB;AACH;AAED,OAAO,UAAUK,QAAV,GAAqB;AACxB,QAAMd,IAAI,CAACa,iBAAD,CAAV;AACH,C,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { fork, call, put, takeLatest } from 'redux-saga/effects'\nimport { errors, success, LOGIN, login } from '../actions/actionType'\n// import { loginRequest } from '../api'\nimport axios from 'axios'\n\nfunction* loginRequestFlow(user) {\n    yield put(login)\n    try {\n        yield call(() => axios.post('https://reqres.in/api/login/', user));\n        yield put(success(user))\n    } catch (error) {\n        yield put(errors(error))\n    }\n}\nexport function* loginRequestFinal() {\n    yield takeLatest(LOGIN, loginRequestFlow);\n}\n\nexport function* rootSaga() {\n    yield fork(loginRequestFinal)\n}\n\n\n// export function* loginRequestFlow(user) {\n//     const apiCall = (user) => {\n//         return axios.post('https://reqres.in/api/login/', user)\n//             .then(response => response.data)\n//             .catch(err => {\n//                 throw err;\n//             });\n//     }\n//     try {\n//         yield call(apiCall)\n//         yield call(success(user))\n//     } catch {\n//         yield call(errors(user))\n//     }\n// }"]},"metadata":{},"sourceType":"module"}